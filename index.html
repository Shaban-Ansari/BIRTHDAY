<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ğŸ’–</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root{
  --bg:#ffeaf3;
  --card:#ffffffdd;
  --accent:#ff6fae;
  --text:#222;
}
body.dark{
  --bg:#0f0f18;
  --card:#1b1b2a;
  --text:#fff;
}
body{
  margin:0;
  font-family:Poppins,system-ui;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
  transition:.4s ease;
}

/* ---------- SCREENS ---------- */
.screen{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  padding:20px;
}
.screen.active{display:flex}

.card{
  background:var(--card);
  padding:clamp(22px,5vw,32px);
  border-radius:22px;
  max-width:460px;
  width:100%;
  text-align:center;
  box-shadow:0 20px 50px rgba(0,0,0,.22);
  animation:fadeUp .8s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1}
}

h2,h3{font-size:clamp(20px,5vw,26px)}
p{font-size:clamp(14px,4vw,16px);line-height:1.6}

/* ---------- BUTTONS ---------- */
button{
  padding:14px 28px;
  border:none;
  border-radius:30px;
  background:var(--accent);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  margin-top:18px;
}
.back{
  background:#ddd;
  color:#333;
}
.toggle{
  position:fixed;
  top:14px;
  right:14px;
  padding:8px 14px;
  background:var(--accent);
  color:#fff;
  border-radius:20px;
  cursor:pointer;
  z-index:10;
}

/* ---------- COUNTRY ---------- */
.country{
  margin:10px 0;
  padding:14px 18px;
  border-radius:22px;
  background:#ffd3e6;
  cursor:pointer;
  font-weight:500;
}
.country:hover{
  background:var(--accent);
  color:#fff;
}

/* ---------- PLANE ---------- */
.plane{
  position:absolute;
  font-size:60px;
  left:-80px;
  top:42%;
  animation:fly 2.8s ease-out forwards;
}
@keyframes fly{
  70%{transform:translateX(80vw) translateY(-18px)}
  85%{transform:translateX(90vw) translateY(0) rotate(6deg)}
  100%{transform:translateX(95vw) translateY(10px)}
}
.landed{animation:bounce .5s ease}
@keyframes bounce{50%{transform:translateY(-8px)}}

/* ---------- SMOKE ---------- */
.smoke{
  position:absolute;
  bottom:38%;
  font-size:26px;
  opacity:0;
  animation:smoke 1.4s ease forwards;
}
@keyframes smoke{
  0%{opacity:0;transform:translateY(0) scale(.8)}
  40%{opacity:.6}
  100%{opacity:0;transform:translateY(-30px) scale(1.5)}
}

/* ---------- CANDLE ---------- */
.candle{
  width:90px;height:150px;
  background:#ffd1e8;
  border-radius:14px;
  position:relative;
  margin:20px auto;
}
.flame{
  width:22px;height:34px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-34px;
  left:34px;
  animation:flicker .15s infinite;
}
@keyframes flicker{50%{transform:scale(.85)}}
.hidden{display:none}

/* ---------- ROSE PETALS ---------- */
.petal{
  position:fixed;
  top:-40px;
  font-size:22px;
  animation:fall linear forwards;
  pointer-events:none;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg)}
}
</style>
</head>

<body>

<div class="toggle" onclick="toggleTheme()">ğŸŒ— Theme</div>

<!-- INTRO -->
<div class="screen active">
  <div class="card">
    <h2>Welcome âœ¨</h2>
    <p>A small journey made with care</p>
    <button onclick="go(2)">Begin</button>
  </div>
</div>

<!-- COUNTRY -->
<div class="screen" id="s2">
  <div class="card">
    <h3>Choose a country ğŸŒ</h3>
    <div class="country" onclick="travel('india')">ğŸ‡®ğŸ‡³ India</div>
    <div class="country" onclick="travel('saudi')">ğŸ‡¸ğŸ‡¦ Saudi Arabia</div>
    <div class="country" onclick="travel('japan')">ğŸ‡¯ğŸ‡µ Japan</div>
    <div class="country" onclick="travel('korea')">ğŸ‡°ğŸ‡· South Korea</div>
  </div>
</div>

<!-- PLANE -->
<div class="screen" id="s3">
  <div class="plane" id="plane">âœˆï¸</div>
  <div class="smoke" id="smoke">â˜ï¸ â˜ï¸ â˜ï¸</div>
  <p>Landingâ€¦ ğŸ›¬</p>
</div>

<!-- CANDLE -->
<div class="screen" id="s4">
  <div class="card">
    <div class="candle">
      <div class="flame" id="flame"></div>
    </div>
    <p>Blow the candle ğŸ¤<br><small>(or tap)</small></p>
    <button onclick="blow()">Tap Instead</button>
  </div>
</div>

<!-- FINAL -->
<div class="screen" id="s5">
  <div class="card">
    <h2>ğŸ‰ Happy Birthday ğŸ‰</h2>
    <p id="note"></p>
    <p style="font-size:22px">ğŸŒ¸ğŸ«ğŸŒ»ğŸˆğŸ’–</p>
    <button class="back" onclick="back()">â¬… Back</button>
  </div>
</div>

<script>
let petalInterval;

function toggleTheme(){document.body.classList.toggle("dark")}
function go(n){
  stopPetals();
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById("s"+n)?.classList.add("active");
}

const notes={
  india:`<b>Mehvish</b> ğŸ’–<br><br>Janmadin Mubarak ğŸŒ¸<br>May chocolates ğŸ« be sweet, smiles be endless, and today feel a little magical ğŸ’–ğŸŒ¹`,
  saudi:`<b>Mehvish</b> ğŸ’–<br><br>Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ ğŸŒ¸<br>May chocolates ğŸ« be sweet, smiles be endless, and today feel a little magical ğŸ’–ğŸŒ¹`,
  japan:`<b>Mehvish</b> ğŸ’–<br><br>ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã† ğŸŒ¸<br>May chocolates ğŸ« be sweet, smiles be endless, and today feel a little magical ğŸ’–ğŸŒ¹`,
  korea:`<b>Mehvish</b> ğŸ’–<br><br>ìƒì¼ ì¶•í•˜í•´ìš” ğŸŒ¸<br>May chocolates ğŸ« be sweet, smiles be endless, and today feel a little magical ğŸ’–ğŸŒ¹`
};

let selectedNote="";

function travel(c){
  selectedNote=notes[c];
  go(3);
  setTimeout(()=>{
    document.getElementById("plane").classList.add("landed");
    document.getElementById("smoke").style.opacity=1;
  },2200);
  setTimeout(()=>go(4),3100);
}

function blow(){
  document.getElementById("flame").classList.add("hidden");
  confetti({particleCount:160,spread:120});
  document.getElementById("note").innerHTML=selectedNote;
  go(5);
  startPetals();
}

function back(){
  stopPetals();
  go(2);
}

/* ğŸŒ» CONTINUOUS PETALS */
function startPetals(){
  petalInterval=setInterval(()=>{
    let p=document.createElement("div");
    p.className="petal";
    p.innerHTML="ğŸŒ»ğŸŒ»";
    p.style.left=Math.random()*100+"vw";
    p.style.animationDuration=6+Math.random()*4+"s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),10000);
  },500);
}
function stopPetals(){
  clearInterval(petalInterval);
}
</script>

</body>
</html>
